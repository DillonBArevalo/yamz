{% extends 'layout.html' %}

{% block title %}
YAMZ Search
{% endblock %}

{% block links %}
              <li><a href="/browse">Browse</a></li>
              <li><a href="/contribute">Add</a></li>
              <li><a href="/about">About</a></li>
              <li><a href="/contact">Contact</a></li>
              <li><a href="/account">Account</a></li>
{% endblock %}

{% block body %}
      <h1 class="jetstrap-highlighted" style="background-image: none; background-position: 0% 0%; background-repeat: repeat repeat;">
        Search dictionary
      </h1>

      <p class="jetstrap-selected" contenteditable="false" style="background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALHRFWHRDcmVhdGlvbiBUaW1lAEZyaSAxMiBOb3YgMjAxMCAxOTowNzowMiArMTIwMOGr8p4AAAAHdElNRQfaCwwGBxwduq16AAAACXBIWXMAAAsSAAALEgHS3X78AAAABGdBTUEAALGPC/xhBQAAAfJJREFUeNqVkk1vElEUhp87X4CIFhhMG0toMC5K3Lgxbro10bhxY2Jc+CO666Y/oP/DxFVjTKM7l1apTdM0JSU0LSg0WqaUjwE6MDNebGpKBYlndc+55zw5H6/gim2UUd0qs5Uy6VaTa7EYdtOmUN7naHER92q+dtnZ2UFpHTOTXWfuwxrfYlNUHz1lxvdIVyx6MuXHPwFeBLW2z+29Pepr7ziUof7SEq1CibCEmKMAymXH6SD6LrpzRndQPIjNz9P3odu2URlhQ4C+ghcM0JpLEchkzrv7eIDS62JYP2lPBJS2cIMhyrMpwo+fMbW8jLhhc2t3F906pjoK8GcH29vonoenRDk1m5zcvUM6ZuJvZEnmcljT09hbR6iVIuLJw/PxhgAOPOj26Gk1nEQCNWAQ7XS4bxvw8hWuGedeo4iR+/y7+OtfgM1N9OIBwnFQ5SLdZJJ2JML17BdqEuYHgmiahsjnx4zw/i2fslm8dht/YQHx/AWpfI50/ZTKm9d8lykiHkf4/hjA6ipnF++VFRS7T1AoaDejyCEYlHmWNeEKF9YISz30CBkGirxKUIZGamAsQG2hux66BAipi1A6g/5fAM/HkGrUFfmr6wSSiWHJTwQoPrq8hCYEGDoh0xzfwUhyIY9ROkRrNKQ65e1P6uM7+AW+ibcHEM1ixAAAAABJRU5ErkJggg==); background-position: 708px 0px; background-repeat: no-repeat no-repeat;"></p>

      <div class="container">
        <table cellpadding=16>
          <tr width="30%">
          <td>
            <form action="/search" method="post">
              <div class="control-group"><label class="control-label"></label>
              <div class="controls"><input name="term_string" type="text"
              class="input-large search-query" placeholder="Search for a term"></div></div>
            </form>
          </td>
          <td>
            <p>
             Not finding what you're looking for? You can always <a href="/contribute">propose</a>
             a new term. Take a look at our <a href="/guidelines">community guidelines</a>
             for tips and suggestions on contributing to the metadictionary.
            </p>
          </td>
          </tr>
        </table>
      <hr>

      </div>

      <!-- Query return template -->
      {% if term_string %}

        {% if result %}

          <p>Results for query <strong>{{ term_string }}</strong>:</p>
         <div class="container">{{ result }}</div>

        {% else %}

          <p>No results found for query <strong>{{ term_string }}</strong>.</p>

       {% endif %}

    {% endif %}

    <hr>

<!-- Will pull out logic into a helper function once i decide where to put it -->
    {% if page %}
      <nav aria-label="Page navigation example">
        <ul class="pagination">
          {% if page == 1 %}
            <li class="page-item disabled">
              <span class="page-link">Prev</span>
            </li>
          {% else %}
            <li class="page-item">
              <a class="page-link" href="/search/{{ term_string }}/{{ page - 1 }}">Prev</a>
            </li>
          {% endif %}

          {% for i in range(1, (1 + (termCount//2) + (termCount%2))) %} <!-- change 2 to page size -->
            {% if i == page %}
              <li class="page-item active">
                <span class="page-link">
                  {{ i }}
                  <span class="sr-only">(current)</span>
                </span>
              </li>
            {% else %}
              <li class="page-item"><a class="page-link" href="/search/{{ term_string }}/{{ i }}">{{ i }}</a></li>
            {% endif %}
          {% endfor %}

          {% if page == (termCount//2) + (0 if termCount%2 == 0 else 1) %}
            <li class="page-item disabled">
              <span class="page-link">Next</span>
            </li>
          {% else %}
            <li class="page-item">
              <a class="page-link" href="/search/{{ term_string }}/{{ page + 1 }}">Next</a>
            </li>
          {% endif %}
        </ul>
      </nav>
    {% endif %}

{% endblock %}
